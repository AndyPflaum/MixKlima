<section class="auftrag-container">
  <button class="move-to-the-office" *ngIf="logginID === 'ZWvRkNa1sIOEnDeDLBKMduZNRQj2'">
    Zu Büro Sicht wechseln!
  </button>
  @if (!orders || orders.length === 0) {
  <span class="no-orders">Aufträge laden ...</span>
  <span class="no-orders">ODER KEIN AUFTRAG ERFASST!!</span>
  } @else {
  <h1>Alle Aufträge</h1>

  <!-- Auswahl wie viele Aufträge angezeigt werden -->
  <div class="anzahl-auswahl">
    <label for="anzahl">Anzahl anzeigen:</label>
    <select [(ngModel)]="visibleCount" (change)="updateVisibleOrders()">
      <option [value]="5">5</option>
      <option [value]="10">10</option>
      <option [value]="25">25</option>
      <option [value]="ordersOriginal.length">Alle</option>
    </select>
  </div>

  <div *ngFor="let customer of orders" class="auftrag" [ngClass]="{
    'ungelesen': !customer.read,
    'gelesen': customer.read,
    'selected': customer.id === selectedOrderId,
        'blinking-orange': !customer.read && office

  }" (click)="handleClick(customer)">
    <p><strong>Name:</strong> {{ customer.name }}</p>
    <p><strong>Vorname:</strong> {{ customer.vorname }}</p>
    <p><strong>Email:</strong> {{ customer.email }}</p>
    <p>
      <strong>Erstellt am:</strong>
      {{ customer.createdAtDate | date: 'dd-MM-yy, HH:mm' }} Uhr
    </p>
    <p><strong>Vom Büro gelesen:</strong> {{ customer.read ? 'Ja' : 'Nein' }}</p>

    @if (!isOfficeView) {
    <button matFab aria-label="Example icon button with a delete icon">
      <mat-icon (click)="openDeleteDialog(customer, $event)">delete</mat-icon>
    </button>
    }

  </div>
  }
</section>